volumes:
          mariadb:
                  name: mariadb
                  driver: local
          wordpress:
                  name: wordpress
                  driver: local

networks:
          inception:
                    name: inception

services:
        mariadb:
              container_name: mariadb
              build: ./requirements/mariadb/.
              image: mariadb:oilyine-
              volumes:
                - mariadb:/var/lib/mysql
              env_file:
                - .env
              networks:
                - inception
              restart: always
        wordpress:
              container_name: wordpress
              build: ./requirements/wordpress/.
              image: wordpress:oilyine-
              depends_on: [mariadb]
              volumes: 
                - wordpress:/var/www/wordpress
              networks:
                - inception
              env_file:
                - .env
              restart: always
        nginx:
              build: ./requirements/nginx/.
              container_name: nginx
              depends_on: 
                - wordpress
              ports: 
                - "80:80"
                - "443:443"
              env_file:
                .env
              networks: 
                - inception
              volumes:
                - ./requirements/nginx/scripts/nginx.conf:/etc/nginx/nginx.conf:ro
                - wordpress:/var/www/wordpress:ro
              restart: always
